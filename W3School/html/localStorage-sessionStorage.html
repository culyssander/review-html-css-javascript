<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <form id="name-form">
        <h2>Preenche o formulario para continuar:</h2>
        <label for="name">Name: </label>
        <input type="text" name="name" id="name" placeholder="Digite o teu nome " required>
        <input type="submit">
    </form>

    <div id="welcome">
        <h2>Seja bem-vindo <span id="username"></span></h2>
        <button id="logout">Sair</button>
    </div>


    <script>
        const nameForm = document.querySelector("#name-form")
        const welcomeContainer = document.querySelector("#welcome")
        const logoutBtn = document.querySelector("#logout")

        function checkUser() {
            const username = localStorage.getItem("name")
            console.log("XXX" + username);
            if(username) {
                nameForm.style.display = "none"
                welcomeContainer.style.display = "block"

                const userNameElement = document.querySelector("#username")
                userNameElement.textContent = username
            } else {
                nameForm.style.display = "block"
                welcomeContainer.style.display = "none"
            }

        }

        nameForm.addEventListener("submit", e => {
            // localStorage.clear()
            e.preventDefault();

            const nameInput = document.querySelector("#name");

            localStorage.setItem("name", nameInput.value);
        
            nameInput.value = "";

            checkUser();
        });


        logoutBtn.addEventListener("click", () => {
            localStorage.clear()

            checkUser();
        })

        checkUser();

    </script>    

    <!-- <script>
        localStorage.setItem("name", "Quitumba");

        const name = localStorage.getItem("name");

        console.log(name);

        // localStorage.removeItem("name");
        // localStorage.clear();

        const person = {name: "Quitumba", title: "DEV Web"}

        localStorage.setItem("person", JSON.stringify(person))

        const person1 = JSON.parse(localStorage.getItem("person"))

        console.log(person1);
    </script> -->
</body>
</html>